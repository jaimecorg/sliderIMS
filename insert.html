<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="js/insert.js"></script>
    <link rel="stylesheet" href="css/styles.css">
    <title>Insertar</title>
</head>
<body>
    <img src="img/portada.png" alt="">

    <div class="contenedor">
        <h1>Insertar</h1>

        <div class="inicio">
            <a href="index.html">Inicio</a>
        </div>
    
        <form id="formularioProducto">
            <div class="inputForm">
                <label>Nombre: </label>
                <input type="text" name="nombre" placeholder="Nombre del producto">            
            </div>
            <div class="inputForm">
                <label>Precio: </label>
                <input type="text" name="precio" placeholder="Precio del producto">
            </div>
            
            <!-- <div class="inputForm">
                <label>Visual: </label>
                <input type="text" name="visual" placeholder="Visual del producto">
            </div> -->

            <!-- <div class="inputForm">
                <label>Hora inicio: </label>
                <input type="text" name="fechaInicio" placeholder="Fecha inicio proyección">
            </div>

            <div class="inputForm">
                <label>Hora final: </label>
                <input type="text" name="fechaFinal" placeholder="Fecha final proyección">
            </div> -->

            <div class="inputForm">
                <label>Descripción: </label>
                <textarea name="descripcion" id="" cols="30" rows="10" placeholder="Descripción"></textarea>
            </div>
            
            <div class="inputForm">
                <label for="visual">Elije una visual:</label>
                <input list="visualData" id="visualDatos" name="visualData" />

                <datalist id="visualData"></datalist>
            </div>
            
            <script>
                document.addEventListener('DOMContentLoaded', function() {
                    // Hacer una petición al servidor para obtener la lista de opciones
                    fetch('php/insertPHP.php')
                        .then(response => response.json())
                        .then(data => {
                            console.log(data);

                            // Convertir el objeto a un array de valores
                            const dataArray = Object.values(data);

                            dataArray.forEach(option => {
                                const optionElement = document.createElement('option');
                                optionElement.value = option;
                                visualData.appendChild(optionElement);
                            });
                        })
                        .catch(error => console.error('Error:', error));
                });

            </script>

            <div class="inputForm">
                <label>Duración: </label>
                <input type="text" name="duracion" placeholder="Duración del vídeo">
            </div>

            <button type="submit">Guardar producto</button>
        </form>
    </div>
</body>
</html>